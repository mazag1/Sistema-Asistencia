<div class="container mt-4">
    <h2 class="mb-4">Lista de Estudiantes</h2>
    <table id="studentsTable"  class="table table-striped table-bordered">
        <thead>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tablaId = 'studentsTable';
        const dataUrl = '<%= dataUrl %>';
        
        const columnsConfig = [
            { data: 'id', width: '5%', title: 'N°', className: 'text-start' },
            { data: 'dni', width: '5%', title: 'DNI', className: 'text-start'},
            { data: 'nombre', title: 'NOMBRE', width: '20%' },
            { data: 'apellido_paterno', title: 'APELLIDO PATERNO', width: '20%' },
            { data: 'apellido_materno', title: 'APELLIDO MATERNO', width: '20%' },
            { data: 'telefono', width: '5%', title: 'TELEFONO' },
            { data: 'grado', width: '5%', title: 'GRADO' },
            { data: 'seccion', width: '5%', title: 'SECCION' },
            {
                data: 'id',
                render: function (data) {
                    return `
                        <a href="/estudiantes/editar/${data}" class="btn btn-sm btn-primary">Editar</a>
                        <button class="btn btn-sm btn-danger eliminar-registro" data-id="${data}" data-tipo="estudiantes">Eliminar</button>
                    `;
                },
                orderable: false,
                title: 'Acciones',
                width: '15%',
                className: 'text-center',
            }
        ];

        // Esperar a que main.js esté cargado antes de ejecutar la función
        if (typeof inicializarDataTable !== "undefined") {
            inicializarDataTable(tablaId, dataUrl, columnsConfig);
        } else {
            console.error("Error: inicializarDataTable no está definido. Verifica que main.js esté cargado.");
        }
    });
</script>